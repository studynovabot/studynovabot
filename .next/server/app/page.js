(()=>{var e={};e.id=974,e.ids=[974],e.modules={597:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\cascade\\\\CascadeProjects\\\\windsurf-project\\\\studynovabot-final\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\cascade\\CascadeProjects\\windsurf-project\\studynovabot-final\\app\\page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1539:()=>{},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3316:(e,t,s)=>{Promise.resolve().then(s.bind(s,6527))},3873:e=>{"use strict";e.exports=require("path")},5611:()=>{},5700:(e,t,s)=>{Promise.resolve().then(s.bind(s,597))},6527:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(687),n=s(3210),a=s.n(n);function i({message:e,animate:t}){let[s,n]=a().useState([]);return a().useMemo(()=>(function(e){let t=e.split(/\r?\n/).filter(e=>""!==e.trim()),s=[];for(let e of t){let t=e.match(/!\[.*?\]\((.*?)\)/)||e.match(/(https?:\/\/\S+\.(jpg|jpeg|png|gif))/);if(t){s.push({type:"image",url:t[1]||t[0]});continue}/^\d+[.)]/.test(e)?s.push({type:"text",content:`ðŸ”¢ ${e.replace(/^\d+[.)]\s*/,"")}`}):/^[-*â€¢]/.test(e)?s.push({type:"text",content:`ðŸ‘‰ ${e.replace(/^[-*â€¢]\s*/,"")}`}):s.push({type:"text",content:`ðŸ¤– ${e}`})}return s})(e),[e]),(0,r.jsx)("div",{children:s.map((e,t)=>"string"==typeof e?(0,r.jsx)("div",{style:{whiteSpace:"pre-line",marginBottom:4},children:e},t):(0,r.jsx)("div",{style:{margin:"10px 0"},children:(0,r.jsx)("img",{src:e.url,alt:"Generated visual",style:{maxWidth:"100%",borderRadius:8}})},t))})}function o(){let[e,t]=(0,n.useState)(""),[s,a]=(0,n.useState)([]),[o,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)("all"),[h,p]=(0,n.useState)([{id:"all",name:"All chats",icon:"\uD83D\uDCC1",chats:[]},{id:"study",name:"Study",icon:"\uD83D\uDCDA",chats:[]},{id:"code",name:"Code",icon:"\uD83D\uDCBB",chats:[]}]),x=(0,n.useRef)(null),f=(0,n.useRef)(null),g=e=>{t(e),f.current?.focus()},v=e=>{m(e);let t=h.find(t=>t.id===e);t&&t.chats.length>0?(a(t.chats[t.chats.length-1]),l(!1)):(a([]),l(!0))},j=async r=>{if(r&&r.preventDefault(),!e.trim())return;let n=[...s,{role:"user",content:e}];a(n),t(""),l(!1),d(!0);try{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:n})}),r=await t.json();if(!t.ok){let e="string"==typeof r.error?r.error:JSON.stringify(r.error);throw Error(e||"Unknown error occurred")}let i=r.reply||"No response from AI.";if(/image|draw|picture|visual|photo|generate|create.*image/i.test(e)||/\[image\]/i.test(i)){let t=await fetch("/api/genImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e})}),s=await t.json();s&&s.image&&(i+=`
![Generated Image](${s.image})`)}let o={role:"assistant",content:i},l=[...s,o];a(l),p(e=>e.map(e=>e.id===u||"all"===e.id&&"all"!==u?{...e,chats:[...e.chats,l]}:e)),d(!1)}catch(t){console.error("Error occurred:",t);let e=t instanceof Error&&t.message||"Unknown error occurred";a(t=>[...t,{role:"assistant",content:`Error: ${e}`}]),d(!1)}};return(0,r.jsxs)("div",{className:"chat-container",children:[(0,r.jsxs)("aside",{className:"sidebar",children:[(0,r.jsx)("div",{className:"sidebar-header",children:(0,r.jsx)("h2",{children:"Study Nova"})}),(0,r.jsx)("div",{className:"folder-list",children:h.map(e=>(0,r.jsxs)("div",{className:`folder ${u===e.id?"active":""}`,onClick:()=>v(e.id),children:[(0,r.jsx)("span",{className:"folder-icon",children:e.icon}),(0,r.jsx)("span",{className:"folder-name",children:e.name}),e.chats.length>0&&(0,r.jsx)("span",{className:"chat-count",children:e.chats.length})]},e.id))})]}),(0,r.jsxs)("div",{className:"main-content",children:[(0,r.jsx)("header",{className:"chat-header",children:(0,r.jsx)("h1",{className:"site-title",children:"Study Nova Bot"})}),(0,r.jsxs)("main",{className:"main-container",children:[(0,r.jsxs)("div",{className:`chat-interface${o?" welcome-mode":""}`,children:[(0,r.jsxs)("div",{className:"messages-container",children:[o?(0,r.jsx)("div",{className:"welcome-container",children:(0,r.jsx)("h1",{children:"What can I help with?"})}):null,s.map((e,t)=>(0,r.jsx)("div",{className:`message ${"user"===e.role?"user-message":"bot-message"}`,children:(0,r.jsx)("div",{className:"message-content",children:"assistant"===e.role?(0,r.jsx)(i,{message:e.content,animate:t===s.length-1&&c}):e.content})},t)),(0,r.jsx)("div",{ref:x})]}),(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),j()},className:"input-container",children:(0,r.jsxs)("div",{className:"input-wrapper",children:[(0,r.jsx)("input",{type:"text",placeholder:"Send a message...",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())},className:"chat-input",disabled:c,ref:f}),(0,r.jsx)("button",{type:"submit",disabled:!e.trim()||c,className:"send-button",children:c?"...":"â†’"})]})})]}),(0,r.jsxs)("div",{className:"suggestions",children:[(0,r.jsxs)("button",{className:"suggestion-btn",onClick:()=>g("Create an image of a beautiful sunset over mountains"),children:[(0,r.jsx)("span",{className:"icon",children:"\uD83C\uDFA8"})," Create image"]}),(0,r.jsxs)("button",{className:"suggestion-btn",onClick:()=>g("Help me brainstorm ideas for a science fiction story"),children:[(0,r.jsx)("span",{className:"icon",children:"\uD83D\uDCA1"})," Brainstorm"]}),(0,r.jsxs)("button",{className:"suggestion-btn",onClick:()=>g("Help me write a professional email to schedule a meeting"),children:[(0,r.jsx)("span",{className:"icon",children:"âœï¸"})," Help me write"]}),(0,r.jsxs)("button",{className:"suggestion-btn",onClick:()=>g("Summarize this text: [paste your text here]"),children:[(0,r.jsx)("span",{className:"icon",children:"\uD83D\uDCDD"})," Summarize text"]})]})]})]})]})}},6971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(5239),n=s(8088),a=s(8170),i=s.n(a),o=s(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,597)),"E:\\cascade\\CascadeProjects\\windsurf-project\\studynovabot-final\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"E:\\cascade\\CascadeProjects\\windsurf-project\\studynovabot-final\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}],d=["E:\\cascade\\CascadeProjects\\windsurf-project\\studynovabot-final\\app\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>i});var r=s(7413);s(2704);var n=s(6696),a=s.n(n);let i={title:"StudyNova Bot",description:"An intelligent study assistant powered by AI"};function o({children:e}){return(0,r.jsxs)("html",{lang:"en",className:a().className,children:[(0,r.jsxs)("head",{children:[(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,r.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,r.jsx)("body",{children:e})]})}},8645:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},8917:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,398],()=>s(6971));module.exports=r})();